<div class="flex flex-col w-64 bg-emerald-gradient sidebar text-white h-screen">
  <!-- Logo -->
  <div class="p-4 border-b border-indigo-400 flex items-center justify-center">
    <h1 class="text-xl font-bold">F2GO Assistant</h1>
  </div>

  <!-- Menú de navegación -->
  <nav class="flex-1 overflow-y-auto p-4">
    <a
      href="#"
      class="block p-3 rounded-lg sidebar-item mb-2 flex items-center bg-white bg-opacity-10"
    >
      <i class="fas fa-home mr-3"></i>
      <span>Inicio</span>
    </a>
    <a
      [routerLink]="['/reservations']"
      class="block p-3 rounded-lg sidebar-item mb-2 flex items-center"
    >
      <i class="fas fa-calendar-day mr-3"></i>
      <span>Reservaciones</span>
    </a>
    <a
      [routerLink]="['/invoices']"
      class="block p-3 rounded-lg sidebar-item mb-2 flex items-center"
    >
      <i class="fas fa-file-invoice mr-3"></i>
      <span>Facturas</span>
    </a>
    <a
      [routerLink]="['/reports']"
      class="block p-3 rounded-lg sidebar-item mb-2 flex items-center"
    >
      <i class="fas fa-file mr-3"></i>
      <span>Reportes</span>
    </a>
    <a
      href="#"
      class="block p-3 rounded-lg sidebar-item mb-2 flex items-center"
    >
      <i class="fas fa-chart-pie mr-3"></i>
      <span>Auditoria</span>
    </a>
    <a href="#" class="block p-3 rounded-lg sidebar-item flex items-center">
      <i class="fas fa-cogs mr-3"></i>
      <span>Configuración</span>
    </a>
  </nav>

  <!-- Sección de Procesos en Segundo Plano -->

  <div class="overflow-y-auto p-4">
    <div class="flex items-center justify-between mb-2">
      <h3 class="text-sm font-semibold flex items-center">
        <i class="fas fa-tasks mr-2"></i> Procesos en curso
      </h3>
      <span class="text-xs bg-indigo-600 rounded-full px-2 py-1">
        {{ backgroundProcesses.length }} activos
      </span>
    </div>

    <div class="space-y-3 mt-3">
      <div
        *ngFor="let process of backgroundProcesses"
        class="bg-indigo-800 bg-opacity-40 rounded-lg p-2"
      >
        <div class="flex justify-between items-center text-xs mb-1">
          <span class="font-medium truncate">{{ process.name }}</span>
          <span class="text-indigo-300">{{ process.estimatedTime }}s</span>
        </div>
        <div class="w-full bg-indigo-900 rounded-full h-1.5">
          <div
            class="bg-green-400 h-1.5 rounded-full"
            [style.width]="process.progress + '%'"
            [ngClass]="{
              'bg-green-400': process.progress < 80,
              'bg-yellow-400': process.progress >= 80 && process.progress < 100,
              'bg-red-400': process.progress === 100
            }"
          ></div>
        </div>
        <div class="flex justify-between text-xxs text-indigo-300 mt-1">
          <span>{{ process.status }}</span>
          <span>{{ process.progress }}%</span>
        </div>
      </div>

      <div
        *ngIf="backgroundProcesses.length === 0"
        class="text-center text-xs text-indigo-300 py-2"
      >
        No hay procesos activos
      </div>
    </div>
  </div>

  <!-- Información del usuario -->
  <div class="p-4 border-t border-indigo-700">
    <p class="font-bold"><i class="fas fa-user-circle mr-2"></i> HTADM</p>
    <p class="text-xs text-indigo-300 mt-1">Recepción</p>
    <p
      class="text-xs text-indigo-400 mt-1 hover:font-bold hover:cursor"
      (click)="logOut()"
    >
      Cerrar sesión
    </p>
  </div>
</div>
